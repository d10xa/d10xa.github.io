*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}.game-container{display:flex;flex-direction:column;background:#fffffffa;border-radius:12px;box-shadow:0 20px 60px #0000004d;max-width:680px;width:100%;overflow:hidden}.resource-bar{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:12px 20px;color:#fff;gap:15px;flex-wrap:wrap}.resource-stats{display:flex;gap:15px;flex-wrap:wrap;align-items:center}.stat{font-size:14px;font-weight:500;white-space:nowrap;display:flex;align-items:center;gap:4px}.stat span{font-weight:700;font-size:16px}.btn-end-turn{background:#fff;color:#667eea;border:none;padding:10px 20px;font-size:14px;font-weight:700;border-radius:6px;cursor:pointer;transition:transform .2s,box-shadow .2s;white-space:nowrap}.btn-end-turn:hover{transform:scale(1.05);box-shadow:0 4px 12px #0003}.btn-end-turn:active{transform:scale(.98)}.game-area{background:#f5f5f5;padding:15px;display:flex;justify-content:center;align-items:center;position:relative}#gameCanvas{display:block;border:2px solid #ddd;border-radius:6px;background:#fff;box-shadow:0 4px 12px #0000001a}.event-panel{position:absolute;top:20px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#ff6b35,#f7931e);color:#fff;padding:14px 24px;border-radius:10px;border:3px solid rgba(255,255,255,.3);box-shadow:0 8px 24px #ff6b3580;z-index:100;max-width:90%;min-width:300px;text-align:center;animation:eventPulse 2s ease-in-out infinite;transition:all .3s ease}.event-panel #event-text{margin:0;font-size:13px;line-height:1.6}.event-panel #event-text strong{font-size:14px;font-weight:700;display:block;margin-bottom:4px}@keyframes eventPulse{0%,to{box-shadow:0 8px 24px #ff6b3580;transform:translate(-50%) scale(1)}50%{box-shadow:0 10px 28px #ff6b35b3;transform:translate(-50%) scale(1.02)}}.event-close-btn{position:absolute;top:8px;right:8px;width:28px;height:28px;background:#fff3;border:2px solid rgba(255,255,255,.4);border-radius:50%;color:#fff;font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:101}.event-close-btn:hover{background:#ffffff4d;border-color:#fff9;transform:scale(1.1)}.event-close-btn:active{transform:scale(.95)}.event-indicator{background:linear-gradient(135deg,#ff6b35,#f7931e);color:#fff;border:2px solid rgba(255,255,255,.4);border-radius:50%;width:42px;height:42px;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;animation:eventIndicatorPulse 2s ease-in-out infinite;position:relative;visibility:hidden}.event-indicator:hover{transform:scale(1.15);box-shadow:0 6px 20px #ff6b3599}.event-indicator:active{transform:scale(1.05)}@keyframes eventIndicatorPulse{0%,to{box-shadow:0 4px 12px #ff6b3566}50%{box-shadow:0 6px 16px #ff6b35b3}}.game-footer{display:flex;justify-content:space-between;align-items:center;background:#f5f5f5;padding:12px 20px;gap:15px;flex-wrap:wrap;border-top:1px solid #e0e0e0}.controls-left{display:flex;gap:8px;align-items:center;flex-wrap:wrap}.compact-label{font-size:13px;color:#555;font-weight:500}.compact-select{padding:6px 10px;border:2px solid #ddd;border-radius:6px;background:#fff;font-size:13px;cursor:pointer;transition:border-color .2s;font-weight:500}.compact-select:focus{outline:none;border-color:#667eea}.compact-select:hover{border-color:#aaa}.btn-icon{width:36px;height:36px;border:none;background:#fff;border:2px solid #ddd;border-radius:6px;cursor:pointer;font-size:18px;transition:transform .2s,border-color .2s;display:flex;align-items:center;justify-content:center}.btn-icon:hover{transform:scale(1.1);border-color:#667eea}.btn-icon:active{transform:scale(.95)}.legend-compact{display:flex;gap:12px;font-size:12px;flex-wrap:wrap}.legend-item{white-space:nowrap;color:#555}.selection-popup{position:fixed;background:#fff;border-radius:10px;box-shadow:0 10px 30px #0000004d,0 0 0 2px #667eea;padding:0;min-width:200px;z-index:1000;display:none;animation:popupAppear .2s ease-out;overflow:visible}.popup-header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:8px 12px;font-weight:700;font-size:13px;text-align:center}.popup-coords{display:block}.popup-stats{display:flex;justify-content:space-around;gap:12px;padding:8px 12px;background:#f8f9fa;border-bottom:1px solid #e0e0e0;font-size:12px;color:#555}.popup-stat-value{font-weight:700;color:#333}.popup-actions{display:flex;justify-content:center;gap:8px;padding:12px;background:#fff}.action-icon{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:56px;height:56px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:2px solid #dee2e6;border-radius:8px;cursor:pointer;transition:all .2s ease;padding:4px}.action-icon .icon{font-size:24px;line-height:1}.action-icon .price{font-size:9px;font-weight:600;color:#667eea;margin-top:2px}.action-icon:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 6px 16px #667eea4d;border-color:#667eea;background:linear-gradient(135deg,#fff,#f8f9fa)}.action-icon:active:not(:disabled){transform:translateY(-1px)}.action-icon:disabled{opacity:.4;cursor:not-allowed;background:#f0f0f0;border-color:#ddd}.action-icon:disabled .price{color:#999}.action-icon[data-tooltip]{position:relative}.action-icon[data-tooltip]:hover:before{content:attr(data-tooltip);position:absolute;top:100%;left:50%;transform:translate(-50%) translateY(8px);background:#000000e6;color:#fff;padding:8px 12px;border-radius:6px;font-size:11px;white-space:nowrap;text-align:center;line-height:1.4;z-index:1001;pointer-events:none;opacity:0;animation:tooltipFadeIn .2s ease-out forwards;min-width:120px;max-width:180px}.action-icon[data-tooltip]:hover:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%) translateY(2px);border:6px solid transparent;border-bottom-color:#000000e6;z-index:1001;pointer-events:none;opacity:0;animation:tooltipFadeIn .2s ease-out forwards}@keyframes popupAppear{0%{opacity:0;transform:scale(.95) translateY(-5px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes tooltipFadeIn{0%{opacity:0}to{opacity:1}}.game-over-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:10000}.game-over-content{background:#fff;padding:40px;border-radius:12px;text-align:center;max-width:400px;box-shadow:0 20px 60px #00000080;animation:gameOverAppear .4s ease-out}.game-over-content h2{font-size:28px;margin-bottom:20px;line-height:1.4;color:#333}.final-stats{background:#f5f5f5;padding:20px;border-radius:8px;margin:20px 0}.final-stats p{margin:8px 0;font-size:16px;color:#555}.final-stats span{font-weight:700;color:#2196f3}.btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 30px;font-size:16px;font-weight:700;border-radius:6px;cursor:pointer;transition:transform .2s,box-shadow .2s;margin-top:10px}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.btn-primary:active{transform:translateY(0)}@keyframes gameOverAppear{0%{opacity:0;transform:scale(.8) translateY(-30px)}to{opacity:1;transform:scale(1) translateY(0)}}.notification{position:fixed;top:80px;right:20px;padding:12px 20px;border-radius:6px;color:#fff;font-weight:500;font-size:14px;z-index:8000;animation:slideIn .3s ease-out;box-shadow:0 4px 12px #0003}.notification-success{background:#4caf50}.notification-error{background:#f44336}.notification-warning{background:#ff9800}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 768px){.game-container{max-width:100%}.resource-bar{padding:10px 15px;flex-direction:column;align-items:stretch}.resource-stats{justify-content:space-between}.stat{font-size:12px}.stat span{font-size:14px}.btn-end-turn{width:100%;padding:12px}.game-area{padding:10px}#gameCanvas{width:100%;height:auto}.game-footer{flex-direction:column;gap:10px}.controls-left,.legend-compact{width:100%;justify-content:center}.selection-popup{position:fixed!important;bottom:90px!important;left:50%!important;transform:translate(-50%)!important;top:auto!important;right:auto!important;max-width:90%}}@media (min-width: 1920px){.game-container{max-width:800px}}
