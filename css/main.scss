---
# Only the main Sass file needs front matter (the dashes are enough)
---
@charset "utf-8";

// Import Google Fonts
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&display=swap');

// Import variables first
@import "variables";

// Legacy variables (keeping for compatibility)
$small-font-size: calc(var(--font-size-base) * 0.875);



// Using media queries with like this:
// @include media-query($on-palm) {
//     .wrapper {
//         padding-right: $spacing-unit / 2;
//         padding-left: $spacing-unit / 2;
//     }
// }
@mixin media-query($device) {
    @media screen and (max-width: $device) {
        @content;
    }
}



// Import partials from `sass_dir` (defaults to `_sass`)
@import
        "base",
        "layout",
        "syntax-highlighting"
;

// Header icons (GitHub, RSS, Theme toggle)
.header-icon {
    background: none;
    border: none;
    cursor: pointer;
    margin-left: var(--spacing-md);
    margin-bottom: 0;
    margin-top: 18px;
    transition: opacity var(--transition);
    float: left;
    padding: 0;
    display: block;
    color: var(--color-text-secondary);
    text-decoration: none;
    width: 20px;
    height: 20px;

    &:hover {
        opacity: 0.7;
        color: var(--color-text-secondary);
        text-decoration: none;
    }

    &:visited {
        color: var(--color-text-secondary);
    }

    &:focus {
        outline: none;
    }

    svg {
        width: 20px;
        height: 20px;
        display: block;
    }
}

// Home page sections
.section-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-lg);
    padding-bottom: var(--spacing-xs);
    border-bottom: 1px solid var(--color-border);
}

.apps-section {
    margin-bottom: calc(var(--spacing-xl) * 1.5);
}

.posts-section {
    margin-top: calc(var(--spacing-xl) * 1.5);
}

// App grid styles
.app-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
}

.app-card {
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    background-color: var(--color-bg-primary);
    transition: all var(--transition);

    &:hover {
        border-color: var(--color-accent);
        transform: translateY(-2px);
    }
}

.app-link {
    display: flex;
    align-items: flex-start;
    padding: var(--spacing-md);
    color: var(--color-text-primary);
    text-decoration: none;
    gap: var(--spacing-md);

    &:hover {
        text-decoration: none;
        color: var(--color-text-primary);
    }

    &:visited {
        color: var(--color-text-primary);
    }
}

.app-icon {
    font-size: 2em;
    line-height: 1;
    flex-shrink: 0;
}

.app-content {
    flex: 1;
}

.app-title {
    font-size: var(--font-size-base);
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--color-text-primary);
}

.app-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    line-height: 1.4;
}

div.checkbox-selected {
   content:url('/images/checkbox-selected.png');
   display: inline-block;
   float:left;
   height: 0.7em;
   margin-right: 5px;
   margin-top: 0.3em;
}

div.checkbox-empty {
   content:url('/images/checkbox-empty.png');
   display: inline-block;
   float:left;
   height: 0.7em;
   margin-right: 5px;
   margin-top: 0.3em;
}

.filename {
    background-color: var(--color-bg-secondary);
    border-radius: var(--radius) var(--radius) 0 0;
    border: 1px solid var(--color-border);
    border-bottom: none;

    color: var(--color-text-secondary);
    display: block;
    font-size: var(--font-size-sm);
    font-family: var(--font-family-mono);
    margin: var(--spacing-lg) 0 0;
    padding: var(--spacing-xs) var(--spacing-sm);
    position: relative;
    text-align: left;

    + .highlight,
    + pre {
        margin-top: 0;
        border-radius: 0 0 var(--radius) var(--radius);
    }
}

.code-block-wrapper {
    position: relative;
    margin: 1em 0;
    
    &:hover .copy-code-btn {
        opacity: 1;
    }
}

.copy-code-btn {
    position: absolute;
    top: var(--spacing-xs);
    right: var(--spacing-xs);
    background: var(--color-bg-secondary);
    color: var(--color-text-secondary);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    padding: 2px 6px;
    font-size: 12px;
    font-family: var(--font-family-base);
    cursor: pointer;
    opacity: 0;
    transition: opacity var(--transition);
    z-index: 10;

    &:hover {
        background: var(--color-accent);
        color: white;
        opacity: 1 !important;
    }

    &.copied {
        background: #059669;
        color: white;
        opacity: 1 !important;
    }

    // Показываем кнопку на мобильных устройствах
    @include media-query($on-palm) {
        opacity: 0.7;
    }
}

pre {
    position: relative;
    padding: var(--spacing-md);
    margin: var(--spacing-lg) 0;
    background-color: var(--color-code-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    overflow-x: auto;
    font-family: var(--font-family-mono);
    font-size: var(--font-size-sm);
    line-height: 1.4;

    code {
        background-color: transparent;
        border: none;
        padding: 0;
    }
}

.highlight {
    position: relative;
    border-radius: var(--radius);
    background-color: var(--color-code-bg);

    pre {
        margin: 0;
        background-color: transparent;
        border: none;
    }
}

.code-block-wrapper {
    position: relative;
    margin: var(--spacing-lg) 0;

    &:hover .copy-code-btn {
        opacity: 1;
    }
}
